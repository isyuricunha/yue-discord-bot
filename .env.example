# Local development (HTTP)
#
# Copy this file to .env.local to override values from .env without changing your base config:
#   cp .env.local.example .env.local
#
# This file is intended for local-only development over HTTP (localhost).

# Discord Bot
DISCORD_TOKEN=
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=123456789012345678
DISCORD_CLIENT_SECRET=

# Database
DATABASE_URL=postgresql://yuebot_user:yuebot_password@localhost:5432/yuebot

# Redis (opcional)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# API
API_PORT=3000
PORT=
API_HOST=0.0.0.0
TRUST_PROXY=0
API_BODY_LIMIT=10485760
JWT_SECRET=change_me_to_a_long_random_jwt_secret_min_32_chars
JWT_EXPIRES_IN=7d

# Internal API (API <-> Bot)
INTERNAL_API_SECRET=change_me_to_a_long_random_secret
BOT_INTERNAL_HOST=127.0.0.1
BOT_INTERNAL_PORT=3100
INTERNAL_API_CACHE_TTL_MS=20000
INTERNAL_API_CACHE_MAX_ENTRIES=500

# Admin allowlists (comma-separated)
BADGE_ADMIN_USER_IDS=
FAN_ART_REVIEWER_USER_IDS=

# CORS (separar por vírgula)
# Ex: CORS_ORIGINS=https://seu-front.vercel.app,https://seu-dominio.com
CORS_ORIGINS=http://localhost:5173

# Cookies (para sessão via httpOnly cookie)
# Para frontend em outro domínio: COOKIE_SAMESITE=none e COOKIE_SECURE=true
COOKIE_SAMESITE=lax
COOKIE_SECURE=false
COOKIE_DOMAIN=

# Web UI
WEB_PORT=5173
WEB_URL=http://localhost:5173
API_URL=http://localhost:3000

# Web UI (Vite build-time)
VITE_API_URL=http://localhost:3000
VITE_DISCORD_CLIENT_ID=123456789012345678

# Frontend URL (alias usado no Docker e na API)
FRONTEND_URL=http://localhost:5173

# OAuth2
DISCORD_REDIRECT_URI=http://localhost:3000/api/auth/callback

# Environment
NODE_ENV=development

# Logging
LOG_LEVEL=info

# Sentry (opcional)
SENTRY_DSN=

# Mistral (LLM - primary)
# MISTRAL_API_KEY is required to enable LLM features (e.g. /ask). MISTRAL_AGENT_ID is optional.
MISTRAL_API_KEY=
MISTRAL_AGENT_ID=

# Prompt file path (relative paths are resolved from the process working directory)
# When running the bot via pnpm (cwd=apps/bot), use a repo-root relative path.
MISTRAL_PROMPT_PATH=../../prompts/groq_system_prompt.txt

# Model params
MISTRAL_MODEL=mistral-small-latest
MISTRAL_TEMPERATURE=0.2
MISTRAL_MAX_TOKENS=512

# Groq (LLM - fallback, optional)
# Primary key is required to enable Groq fallback. Fallback keys are optional.
GROQ_API_KEY=
GROQ_API_KEY_FALLBACK_1=
GROQ_API_KEY_FALLBACK_2=

# Prompt file path (relative paths are resolved from the process working directory)
# When running the bot via pnpm (cwd=apps/bot), use a repo-root relative path.
GROQ_PROMPT_PATH=../../prompts/groq_system_prompt.txt

# Model params
GROQ_MODEL=llama3-8b-8192
GROQ_TEMPERATURE=0.2
GROQ_MAX_TOKENS=512

GROQ_CONTEXT_TTL_SECONDS=1800
GROQ_CONTEXT_CONTINUATION_SECONDS=120
GROQ_CONTEXT_MAX_MESSAGES=12
GROQ_CONTEXT_MAX_MESSAGE_CHARS=700

GROQ_CONTEXT_REDIS_PREFIX=yue:groq:context:
